library(artiFISHal)
?SimFish
# Lake M parameters for input to the simulator
MInputs <- read.csv("C:/JVA/Consult/Warner/Trawl performance/Post-meeting work/LakeMInputs.csv", as.is=TRUE, skip=20)
# simulate the Lake M fish population
date()
Mfish <- SimFish(LakeName="Lake M", LkWidth=30000, LkLength=20000, BotDepMin=20, BotDepMax=100, FishParam=MInputs, TotNFish=100000, Seed=545)
date()
# look at the results
Mfish$Truth
Mfish$LakeInfo
Mfish$FishInfo
head(Mfish$FishParam)
head(Mfish$Fish)
Mfish$PropExcluded
# survey the Lake M population
date()
Msurv <- SampFish(SimPop=Mfish, NumEvents=10, AcNum=15, AcInterval=30000, AcLayer=10, AcAngle=7, MtNum=30, MtHt=10, MtWd=10, MtLen=2000, Seed=341)
date()
# look at the results
lapply(Msurv, head)
# choose selectivity parameters
TuneSelec()
# look at the selectivity parameters (I just made these up as an example)
selec <- data.frame(
G = c("A", "a", "A", "a", "A", "a"),
Zone = c("mouth", "mouth", "middle", "middle", "aft", "aft"),
MtL50Small = c(100, 90, 60, 50, 30, 2),
MtSlopeSmall = c(40, 40, 30, 30, 20, 20),
MtL50Large = c(180, 180, Inf, Inf, Inf, Inf),
MtSlopeLarge = c(20, 20, 100, 100, 100, 100))
ViewSelec(selec)
# look at the mesh panel zones
ViewZones(PanelProp = c(0.4, 0.3, 0.2, 0.1))
# apply acoustic availability and midwater trawl availability and selectivity to the "perfect" survey (more made up stuff for an example)
# perfect
perf <- AcMtEst(SimPop=Mfish, AcMtSurv=Msurv, Seed=927)
head(perf)
# selectivity
imperf <- AcMtEst(SimPop=Mfish, AcMtSurv=Msurv, SelecParam=selec, AcExcl=c(5, 10), MtExcl=c(2, 2), Seed=204)
head(imperf)
TuneSelec()
TuneSelec
?cheat
### update package ###
library(devtools)
setwd("C:/JVA/GitHub/artiFISHal")
document()
q()
